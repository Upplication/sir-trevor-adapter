var SirTrevorAdapter=function(t){function e(o){if(r[o])return r[o].exports;var a=r[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";var o={elementEnclosingTag:"div",elementClass:"st-render",addElementTypeClass:!0,containerClass:"st-render-container",attrName:"st",attrType:"st-type"};SirTrevorAdapter=function(t,e){return{config:Object.assign({},o,t||{}),adapters:e||[r(1),r(2),r(3),r(4),r(5),r(6),r(7)],isSirTrevorData:function(t){return t&&t.type&&t.data&&_.isObject(t.data)},getAdapterFor:function(t){var e=t.type||t;return this.adapters.reduce(function(t,r){return t?t:r.handles.indexOf(e)>=0?r:null},null)},toHTML:function(t){var e=!0;_.isArray(t)||(t=[t],e=!1);var r=this,o=function(t){if(!r.isSirTrevorData(t))throw Error("No valid SirTrevorData "+t);var e=r.getAdapterFor(t);if(!e)throw Error("No handler for "+t.type);var o=$("<"+r.config.elementEnclosingTag+">");return o.addClass(r.config.elementClass),r.config.addElementTypeClass&&o.addClass(r.config.elementClass+"-"+t.type),o.html(e.toHTML(t.data,t.type)),o.attr("data-"+r.config.attrType,t.type),o[0].outerHTML},a=t.map(o);return e?'<div class="'+r.config.containerClass+'">'+a.join(" ")+"</div>":a.pop()},toJSON:function(t){var e=this,r=$(t);return r.find("."+this.config.elementClass).map(function(r,o){var a=$(o),i=a.data(e.config.attrName);if(i)return i;var n=a.data(e.config.attrType);if(!n)throw Error("No data-"+n+"tag found on: "+t);var s=e.getAdapterFor(n);if(!s)throw Error("No handler for "+n);return{type:n,data:s.toJSON(a.html())}}).get()}}},t.exports=SirTrevorAdapter},function(t,e){ButtonAdapter={handles:["button"],toHTML:function(t){var e=$("<div>"),r=$("a").appendTo(e);return $("<div>",{style:"clear: both"}).appendTo(e),r.html(t.text),r.attr("href",t.href),r.attr("data-st-user-href",t["user-href"]),Object.keys(t).forEach(function(e){if(/^css\-/.test(e)){var o=e.replace(/^css-/),a=t[e];r.css(o,a)}}),r.find("> *").css("margin","0"),e.html()},toJSON:function(t){var e=$(t),r=e.find("a"),o={};return o.format="html",o.text=r.html(),o.href=r.attr("href"),o["user-href"]=r.attr("data-st-user-href"),r.attr("style").split(";").forEach(function(t){var e=t.split(":"),r=e[0],a=e[1];o["css-"+r]=a}),o}},t.exports=ButtonAdapter},function(t,e){ImageAdapter={handles:["image","image_edit"],toHTML:function(t){var e=t.file||"";return'<img src="'+e+'"/>'},toJSON:function(t){var e="",r=/<img src="(.*)"\/>/,o=r.exec(t);return o&&(e=o[0]),{file:{url:e}}}},t.exports=ImageAdapter},function(t,e){ListAdapter={handles:["list"],toHTML:function(t){return t.listItems.reduce(function(t,e){t+="<li>"+e.content+"</li>"},"<ul>")+"</ul>"},toJSON:function(t){for(var e,r=/<li>(.*)<\/li>/,o=[];null!==(e=r.exec(t));)o.push({content:e[1]});return{listItems:o}}},t.exports=ListAdapter},function(t,e){MapAdapter={handles:["map"],toHTML:function(t){var e=_.template("https://maps.googleapis.com/maps/api/staticmap?size=<%= width %>x<%= height %>&center=<%= address %>&markers=|<%= address %>&zoom=<%= zoom %>&scale=2",t),r=_.template("http://maps.google.com/maps?q=<%= address %>",t),o='<a href="<%= map_ref %>"><img src="<%= img_src %>" /></a>';return _.template(o,{img_src:e,map_ref:r})},toJSON:function(t){var e=/<img src="https:\/\/maps.googleapis.com\/maps\/api\/staticmap?size=600x300&center=(.*?)&markers=|.*?&zoom=([0-9]+)&scale=([0-9]+)"/,r=e.exec(t);return r?{address:r[1],zoom:r[2],scale:r[3]}:{}}},t.exports=MapAdapter},function(t,e){SpacerAdapter={handles:["spacer"],toHTML:function(t){return _.template('<div style="margin:<%= height %><%= units %> 0;"></div',t)},toJSON:function(t){var e=/margin:([0-9]+)(.*);/,r=e.exec(t);return r?{height:r[1],units:r[2]}:{}}},t.exports=SpacerAdapter},function(t,e){TextAdapter={handles:["text","heading","ck_editor","widget"],tags:{heading:"h2",quote:"quote"},toHTML:function(t,e){if("html"==t.type){var r=t.text,o=this.tags[e];return o&&(r="<"+o+">"+r+"</"+o+">"),r}return console.error("Invalid type "+t.type+" for block type "+e),""},toJSON:function(t,e){var r=this.tags[e];return r&&(t=t.replace(new RegExp("^<"+r+">"),"").replace(new RegExp("<"+r+">$"),"")),{text:t,type:"html"}}},t.exports=TextAdapter},function(t,e){VideoAdapter={handles:["video"],providers:{vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo.com\/(.*)/,html:'<iframe src="{{protocol}}//player.vimeo.com/video/{{remote_id}}?title=0&byline=0" width="580" height="320" frameborder="0"></iframe>'},youtube:{regex:/^.(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&\?]).*/,html:'<iframe src="{{protocol}}//www.youtube.com/embed/{{remote_id}}" width="580" height="320" frameborder="0" allowfullscreen></iframe>'},vine:{regex:/(?:http[s]?:\/\/)?(?:www.)?vine.co\/v\/([^\W]*)/,html:'<iframe class="vine-embed" src="{{protocol}}//vine.co/v/{{remote_id}}/embed/simple" width="{{width}}" height="{{width}}" frameborder="0"></iframe><script async src="http://platform.vine.co/static/scripts/embed.js" charset="utf-8"></script>',square:!0},dailymotion:{regex:/(?:http[s]?:\/\/)?(?:www.)?dai(?:.ly|lymotion.com\/video)\/([^\W_]*)/,html:'<iframe src="{{protocol}}//www.dailymotion.com/embed/video/{{remote_id}}" width="580" height="320" frameborder="0"></iframe>'}},toHTML:function(t){if(!this.providers.hasOwnProperty(t.source))return"";var e=this.providers[t.source],r="file:"===window.location.protocol?"http:":window.location.protocol;return _.template(e.html,{protocol:r,remote_id:t.remote_id})},toJSON:function(t){var e=/<iframe src="(.*?)"/.exec(t);if(!e||!e[1])return{};var r=e[1],o=this;return Object.keys(this.providers).reduce(function(t,e){if(!_.isEmpty(t))return t;var a=o.providers[e],i=a.exec(r);return i&&i[1]?{source:e,remote_id:i[1]}:t},{})}},t.exports=VideoAdapter}]);