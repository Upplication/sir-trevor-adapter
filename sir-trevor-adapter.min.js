var SirTrevorAdapter=function(t){function e(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";var o=r(1);o.ButtonAdapter=r(2),o.ImageAdapter=r(4),o.ListAdapter=r(5),o.MapAdapter=r(6),o.SpacerAdapter=r(7),o.TextAdapter=r(8),o.VideoAdapter=r(9),o.ColumnsAdapter=r(3),t.exports=o},function(t,e,r){"use strict";var o=r(!function(){var t=new Error('Cannot find module "jquery"');throw t.code="MODULE_NOT_FOUND",t}()),n=r(!function(){var t=new Error('Cannot find module "lodash.isempty"');throw t.code="MODULE_NOT_FOUND",t}()),a=r(!function(){var t=new Error('Cannot find module "lodash.isobject"');throw t.code="MODULE_NOT_FOUND",t}()),i=r(!function(){var t=new Error('Cannot find module "lodash.isarray"');throw t.code="MODULE_NOT_FOUND",t}()),s=r(!function(){var t=new Error('Cannot find module "lodash.isstring"');throw t.code="MODULE_NOT_FOUND",t}()),d={elementEnclosingTag:"div",elementClass:"st-render",addElementTypeClass:!0,containerClass:"st-render-container",attrName:"st",attrType:"st-type"},c=function(t,e){var c={config:Object.assign({},d,t||{}),adapters:e||[r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9)],initialize:function(){var t=this;return this.adapters.forEach(function(e){e.initialize instanceof Function&&e.initialize(t)}),t},isSirTrevorData:function(t){return!!(t&&t.type&&t.data&&a(t.data)&&s(t.type))},getAdapterFor:function(t){if(!t)return null;var e=t.type||t;return this.adapters.reduce(function(t,r){return t?t:r.handles.indexOf(e)>=0?r:null},null)},toHTML:function(t){var e=!0;i(t)||(t=[t],e=!1);var r=this,a=function(t){if(!r.isSirTrevorData(t))throw Error("No valid SirTrevorData "+t);var e=r.getAdapterFor(t);if(!e)throw Error("No handler for "+t.type);if(n(t.data))return"";var a=o("<div>"),i=o("<"+r.config.elementEnclosingTag+">");return i.addClass(r.config.elementClass),r.config.addElementTypeClass&&i.addClass(r.config.elementClass+"-"+t.type),i.html(e.toHTML(t.data,t.type)),i.attr("data-"+r.config.attrType,t.type),a.append(i),a.html()},s=t.map(a);return e?'<div class="'+r.config.containerClass+'">'+s.join(" ")+"</div>":s.pop()},toJSON:function(t){var e=this,r=o(t);return r.find("."+this.config.elementClass).map(function(r,n){var a=o(n),i=a.data(e.config.attrName);if(i)return i;var s=a.data(e.config.attrType);if(!s)throw Error("No data-"+e.config.attrType+" tag found on: "+t);var d=e.getAdapterFor(s);if(!d)throw Error("No handler for "+s);return{type:s,data:d.toJSON(a.html(),s)}}).get()}};return c.initialize()};t.exports=c},function(t,e,r){var o=r(!function(){var t=new Error('Cannot find module "jquery"');throw t.code="MODULE_NOT_FOUND",t}()),n={name:"ButtonAdapter",handles:["button"],toHTML:function(t){var e=o("<div>"),r=o("<a>").appendTo(e);if(o("<div>",{style:"clear: both"}).appendTo(e),r.html(t.text),t.href&&t.href.length>0&&r.attr("href",t.href),r.attr("data-st-user-href",t["user-href"]),r.attr("style","overflow: hidden; display: block; line-height: normal; box-sizing: border-box; border-style: solid; text-align: center; margin: 0 auto;"),r.find("> *").css("margin","0"),Object.keys(t).forEach(function(e){if(/^css\-/.test(e)){var o=e.replace(/^css-/,""),n=t[e];r.attr("style",r.attr("style")+o+":"+n+";")}}),t._fontUrl){var n=o("<link>",{type:"text/css",rel:"stylesheet",href:t._fontUrl});e.prepend(n)}return e.html()},toJSON:function(t){var e=o(t),r=e.filter("a"),n=e.filter("link"),a={};return a.format="html",a.text=r.html(),a.href=r.attr("href"),a["user-href"]=r.attr("data-st-user-href"),r.attr("style").split(";").filter(function(t){return t.indexOf(":")!=-1}).forEach(function(t){var e=t.split(":"),r=e[0].replace(/\s/g,""),o=e[1].trim();a["css-"+r]=o}),n.length>0&&(a._fontUrl=n.attr("href")),a}};t.exports=n},function(t,e,r){var o=r(!function(){var t=new Error('Cannot find module "jquery"');throw t.code="MODULE_NOT_FOUND",t}()),n=r(1),a={name:"ColumnsAdapter",handles:["columns"],_getAdapter:function(){return this._adapter||(this._adapter=n({elementClass:"st-row",containerClass:"st-column"})),this._adapter},toHTML:function(t){var e=this._getAdapter(),r=o("<div>");return t.columns.map(function(t){var n=e.toHTML(t.blocks),a=o(n);r.append(a)}),r.html()},toJSON:function(t){var e=this._getAdapter(),r=o("<div>"+t+"</div>"),n={columns:[]};return r.find("."+e.config.containerClass).each(function(t,r){var a=o("<div>"),i=o(r);a.append(i);var s={blocks:e.toJSON(a.html())};n.columns.push(s)}),n}};t.exports=a},function(t,e){var r={name:"ImageAdapter",handles:["image","image_edit"],toHTML:function(t){if(!t||!t.file)return"";var e=t.file.url||"",r=t.href,o='<img src="'+e+'"/>';return r&&r.length>0?'<a href="'+r+'">'+o+"</a>":o},toJSON:function(t){var e="",r=/<img src="(.*?)"\/?>/,o=r.exec(t);o&&(e=o[1]);var n=null,a=/<a href="(.*?)">/,i=a.exec(t);return i&&(n=i[1]),{href:n,file:{url:e}}}};t.exports=r},function(t,e){var r={name:"ListAdapter",handles:["list"],toHTML:function(t){return t.listItems.reduce(function(t,e){t+="<li>"+e.content+"</li>"},"<ul>")+"</ul>"},toJSON:function(t){for(var e,r=/<li>(.*)<\/li>/,o=[];null!==(e=r.exec(t));)o.push({content:e[1]});return{listItems:o}}};t.exports=r},function(t,e,r){var o=r(!function(){var t=new Error('Cannot find module "lodash.template"');throw t.code="MODULE_NOT_FOUND",t}()),n={name:"MapAdapter",handles:["map"],toHTML:function(t){var e=o("https://maps.googleapis.com/maps/api/staticmap?size=<%= width %>x<%= height %>&center=<%= address %>&markers=|<%= address %>&zoom=<%= zoom %>&scale=2",t),r=o("http://maps.google.com/maps?q=<%= address %>",t),n='<a href="<%= map_ref %>"><img src="<%= img_src %>" /></a>';return o(n,{img_src:e,map_ref:r})},toJSON:function(t){var e=/center=(.*?)&.*zoom=([0-9]+)&.*scale=([0-9]+)/,r=e.exec(t);return r?{address:r[1],zoom:r[2],scale:r[3]}:{}}};t.exports=n},function(t,e,r){var o=r(!function(){var t=new Error('Cannot find module "lodash.template"');throw t.code="MODULE_NOT_FOUND",t}()),n={name:"SpacerAdapter",handles:["spacer"],toHTML:function(t){return o('<div style="margin:<%= height %><%= units %> 0;"></div',t)},toJSON:function(t){var e=/margin:\s*([0-9\.]+)([a-z%]+)\s*0/,r=e.exec(t);return r?{height:Number(r[1].trim()),units:r[2].trim()}:{}}};t.exports=n},function(t,e){var r={name:"TextAdapter",handles:["text","heading","ck_editor","quote","widget"],tags:{heading:"h2",quote:"quote"},toHTML:function(t,e){if("html"==t.format){var r=t.text,o=this.tags[e];return o&&(r="<"+o+">"+r+"</"+o+">"),r}return console.error("Invalid type "+t.format+" for block type "+e),""},toJSON:function(t,e){var r=this.tags[e];return r&&(t=t.replace(new RegExp("^<"+r+">"),"").replace(new RegExp("</"+r+">$"),"")),{text:t,format:"html"}}};t.exports=r},function(t,e,r){var o=r(!function(){var t=new Error('Cannot find module "lodash.isempty"');throw t.code="MODULE_NOT_FOUND",t}()),n=r(!function(){var t=new Error('Cannot find module "lodash.template"');throw t.code="MODULE_NOT_FOUND",t}()),a={name:"VideoAdapter",handles:["video"],providers:{vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo\.co(?:.+(?:\/)([^\/].*)+$)/,html:'<iframe src="<%= protocol %>//player.vimeo.com/video/<%= remote_id %>?title=0&byline=0" width="580" height="320" frameborder="0"></iframe>'},youtube:{regex:/^.*(?:(?:youtu\.be\/)|(?:youtube\.com)\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*)/,html:'<iframe src="<%= protocol %>//www.youtube.com/embed/<%= remote_id %>" width="580" height="320" frameborder="0" allowfullscreen></iframe>'},vine:{regex:/(?:http[s]?:\/\/)?(?:www.)?vine.co\/v\/([^\W]*)/,html:'<iframe class="vine-embed" src="<%= protocol %>//vine.co/v/<%= remote_id %>/embed/simple" width="<%= width %>" height="<%= width %>" frameborder="0"></iframe><script async src="http://platform.vine.co/static/scripts/embed.js" charset="utf-8"></script>',square:!0},dailymotion:{regex:/(?:http[s]?:\/\/)?(?:www.)?dai(?:.ly|lymotion.com\/video)\/([^\W_]*)/,html:'<iframe src="<%= protocol %>//www.dailymotion.com/embed/video/<%= remote_id %>" width="580" height="320" frameborder="0"></iframe>'}},toHTML:function(t){if(!this.providers.hasOwnProperty(t.source))return"";var e=this.providers[t.source],r="file:"===window.location.protocol?"http:":window.location.protocol;return n(e.html,{protocol:r,remote_id:t.remote_id})},toJSON:function(t){var e=/<iframe src="(.*?)"/.exec(t);if(!e||!e[1])return{};var r=e[1],n=this;return Object.keys(this.providers).reduce(function(t,e){if(!o(t))return t;var a=n.providers[e],i=a.regex.exec(r);return i&&i[1]?{source:e,remote_id:i[1]}:t},{})}};t.exports=a}]);