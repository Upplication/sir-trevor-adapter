var SirTrevorAdapter=function(e){function t(a){if(r[a])return r[a].exports;var o=r[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var a={elementEnclosingTag:"div",elementClass:"st-render",addElementTypeClass:!0,containerClass:"st-render-container",attrName:"st",attrType:"st-type"},o=function(e,t){return{config:Object.assign({},a,e||{}),adapters:t||[r(1),r(2),r(3),r(4),r(5),r(6),r(7)],isSirTrevorData:function(e){return!!(e&&e.type&&e.data&&_.isObject(e.data)&&_.isString(e.type))},getAdapterFor:function(e){if(!e)return null;var t=e.type||e;return this.adapters.reduce(function(e,r){return e?e:r.handles.indexOf(t)>=0?r:null},null)},toHTML:function(e){var t=!0;_.isArray(e)||(e=[e],t=!1);var r=this,a=function(e){if(!r.isSirTrevorData(e))throw Error("No valid SirTrevorData "+e);var t=r.getAdapterFor(e);if(!t)throw Error("No handler for "+e.type);var a=$("<div>"),o=$("<"+r.config.elementEnclosingTag+">");return o.addClass(r.config.elementClass),r.config.addElementTypeClass&&o.addClass(r.config.elementClass+"-"+e.type),o.html(t.toHTML(e.data,e.type)),o.attr("data-"+r.config.attrType,e.type),a.append(o),a.html()},o=e.map(a);return t?'<div class="'+r.config.containerClass+'">'+o.join(" ")+"</div>":o.pop()},toJSON:function(e){var t=this,r=$(e);return r.find("."+this.config.elementClass).map(function(r,a){var o=$(a),i=o.data(t.config.attrName);if(i)return i;var n=o.data(t.config.attrType);if(!n)throw Error("No data-"+n+"tag found on: "+e);var s=t.getAdapterFor(n);if(!s)throw Error("No handler for "+n);return{type:n,data:s.toJSON(o.html())}}).get()}}};o.ButtonAdapter=r(1),o.ImageAdapter=r(2),o.ListAdapter=r(3),o.MapAdapter=r(4),o.SpacerAdapter=r(5),o.TextAdapter=r(6),o.VideoAdapter=r(7),e.exports=o},function(e,t){ButtonAdapter={name:"ButtonAdapter",handles:["button"],toHTML:function(e){var t=$("<div>"),r=$("<a>").appendTo(t);return $("<div>",{style:"clear: both"}).appendTo(t),r.html(e.text),r.attr("href",e.href),r.attr("data-st-user-href",e["user-href"]),Object.keys(e).forEach(function(t){if(/^css\-/.test(t)){var a=t.replace(/^css-/,""),o=e[t];r.attr("style",r.attr("style")+a+":"+o+";"),r.css(a,o)}}),r.css("overflow","hidden"),r.css("display","block"),r.css("line-height","normal"),r.css("box-sizing","border-box"),r.css("border-style","solid"),r.css("text-align","center"),r.css("margin","0 auto"),r.find("> *").css("margin","0"),t.html()},toJSON:function(e){var t=$(e),r={};return r.format="html",r.text=t.html(),r.href=t.attr("href"),r["user-href"]=t.attr("data-st-user-href"),t.attr("style").split(";").forEach(function(e){var t=e.replace(/\s/g,"").split(":"),a=t[0],o=t[1];r["css-"+a]=o}),r}},e.exports=ButtonAdapter},function(e,t){ImageAdapter={name:"ImageAdapter",handles:["image","image_edit"],toHTML:function(e){if(!e||!e.file)return"";var t=e.file.url||"";return'<img src="'+t+'"/>'},toJSON:function(e){var t="",r=/<img src="(.*)"\/?>/,a=r.exec(e);return a&&(t=a[1]),{file:{url:t}}}},e.exports=ImageAdapter},function(e,t){ListAdapter={name:"ListAdapter",handles:["list"],toHTML:function(e){return e.listItems.reduce(function(e,t){e+="<li>"+t.content+"</li>"},"<ul>")+"</ul>"},toJSON:function(e){for(var t,r=/<li>(.*)<\/li>/,a=[];null!==(t=r.exec(e));)a.push({content:t[1]});return{listItems:a}}},e.exports=ListAdapter},function(e,t){MapAdapter={name:"MapAdapter",handles:["map"],toHTML:function(e){var t=_.template("https://maps.googleapis.com/maps/api/staticmap?size=<%= width %>x<%= height %>&center=<%= address %>&markers=|<%= address %>&zoom=<%= zoom %>&scale=2",e),r=_.template("http://maps.google.com/maps?q=<%= address %>",e),a='<a href="<%= map_ref %>"><img src="<%= img_src %>" /></a>';return _.template(a,{img_src:t,map_ref:r})},toJSON:function(e){var t=/<img src="https:\/\/maps.googleapis.com\/maps\/api\/staticmap?size=600x300&center=(.*?)&markers=|.*?&zoom=([0-9]+)&scale=([0-9]+)"/,r=t.exec(e);return r?{address:r[1],zoom:r[2],scale:r[3]}:{}}},e.exports=MapAdapter},function(e,t){SpacerAdapter={name:"SpacerAdapter",handles:["spacer"],toHTML:function(e){return _.template('<div style="margin:<%= height %><%= units %> 0;"></div',e)},toJSON:function(e){var t=/margin:([0-9]+)(.*);/,r=t.exec(e);return r?{height:r[1],units:r[2]}:{}}},e.exports=SpacerAdapter},function(e,t){TextAdapter={name:"TextAdapter",handles:["text","heading","ck_editor","quote","widget"],tags:{heading:"h2",quote:"quote"},toHTML:function(e,t){if("html"==e.format){var r=e.text,a=this.tags[t];return a&&(r="<"+a+">"+r+"</"+a+">"),r}return console.error("Invalid type "+e.format+" for block type "+t),""},toJSON:function(e,t){var r=this.tags[t];return r&&(e=e.replace(new RegExp("^<"+r+">"),"").replace(new RegExp("</"+r+">$"),"")),{text:e,type:"html"}}},e.exports=TextAdapter},function(e,t){VideoAdapter={name:"VideoAdapter",handles:["video"],providers:{vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo\.co(?:.+(?:\/)([^\/].*)+$)/,html:'<iframe src="<%= protocol %>//player.vimeo.com/video/<%= remote_id %>?title=0&byline=0" width="580" height="320" frameborder="0"></iframe>'},youtube:{regex:/^.*(?:(?:youtu\.be\/)|(?:youtube\.com)\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*)/,html:'<iframe src="<%= protocol %>//www.youtube.com/embed/<%= remote_id %>" width="580" height="320" frameborder="0" allowfullscreen></iframe>'},vine:{regex:/(?:http[s]?:\/\/)?(?:www.)?vine.co\/v\/([^\W]*)/,html:'<iframe class="vine-embed" src="<%= protocol %>//vine.co/v/<%= remote_id %>/embed/simple" width="<%= width %>" height="<%= width %>" frameborder="0"></iframe><script async src="http://platform.vine.co/static/scripts/embed.js" charset="utf-8"></script>',square:!0},dailymotion:{regex:/(?:http[s]?:\/\/)?(?:www.)?dai(?:.ly|lymotion.com\/video)\/([^\W_]*)/,html:'<iframe src="<%= protocol %>//www.dailymotion.com/embed/video/<%= remote_id %>" width="580" height="320" frameborder="0"></iframe>'}},toHTML:function(e){if(!this.providers.hasOwnProperty(e.source))return"";var t=this.providers[e.source],r="file:"===window.location.protocol?"http:":window.location.protocol;return _.template(t.html,{protocol:r,remote_id:e.remote_id})},toJSON:function(e){var t=/<iframe src="(.*?)"/.exec(e);if(!t||!t[1])return{};var r=t[1],a=this;return Object.keys(this.providers).reduce(function(e,t){if(!_.isEmpty(e))return e;var o=a.providers[t],i=o.regex.exec(r);return i&&i[1]?{source:t,remote_id:i[1]}:e},{})}},e.exports=VideoAdapter}]);